{"version":3,"sources":["redux/reducers/teacher-reducer.js","redux/reducers/combine.js","redux/store/store.js","panels/RolesSelect.js","panels/teacher/components/Clubs.js","panels/teacher/Profile.js","panels/teacher/forms/AddClub.js","redux/actions/teacher-actions.js","panels/teacher/forms/AddStudyGroup.js","panels/teacher/forms/AddStudent.js","panels/teacher/components/Groups.js","panels/teacher/screens/Club.js","App.js","index.js"],"names":["initialState","clubs","teacher","state","action","type","club","groups","students","push","name","club_name","group","reducers","combineReducers","teacherState","teacherReducer","store","createStore","roles","RolesSelect","id","go","fetchedUser","useState","role","setRole","roleId","setRoleId","Panel","PanelHeader","Group","FormLayout","FormItem","top","Select","placeholder","onChange","e","currentTarget","value","options","map","label","renderOption","option","restProps","CustomSelectOption","Div","Button","stretched","size","onClick","data-to","Clubs","key","data-clubid","TeacherProfile","getState","style","display","flexDirection","alignItems","justifyContent","textAlign","padding","src","photo_200","marginBottom","marginTop","level","weight","first_name","last_name","color","mode","before","header","length","AddClub","setName","left","dispatch","addClub_action","AddStudyGroup","addGroup_action","AddStudent","Groups","data-groupid","Club","getGroupsOfClub","App","activePanel","setActivePanel","setUser","clubId","setClubId","useEffect","a","bridge","send","user","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetchData","dataset","clubid","groupId","groupid","to","View","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.70fcdc6f.chunk.js","sourcesContent":["const initialState = {\r\n    /*\r\n    clubs: [\r\n        { // groups\r\n            name: 'groupName'\r\n            students: [\r\n                { // students\r\n                    name: 'studentName\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n    */\r\n    clubs: [\r\n\r\n    ]\r\n}\r\n\r\nfunction teacher(state=initialState, action) {\r\n    switch (action.type) {\r\n        case 'ADD_CLUB': {\r\n            action.club.groups = []\r\n            action.club.students = []\r\n            state.clubs.push(action.club)\r\n            return state\r\n        }\r\n        case 'ADD_GROUP': {\r\n            for (const club of state.clubs) {\r\n                if (club.name === action.club_name) {\r\n                    club['groups'].push(action.group)\r\n                    break\r\n                }\r\n            }\r\n            return state\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nexport default teacher;","import {combineReducers} from 'redux'\r\n\r\nimport teacherReducer from './teacher-reducer'\r\n\r\nconst reducers = combineReducers({\r\n    teacherState: teacherReducer\r\n})\r\n\r\nexport default reducers","import {createStore} from 'redux'\r\nimport reducers from '../reducers/combine'\r\n\r\n\r\nconst store = createStore(reducers);\r\n\r\nexport default store;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useState} from 'react';\r\n\r\nimport Select from '@vkontakte/vkui/dist/components/Select/Select';\r\nimport { FormItem } from '@vkontakte/vkui/dist/components/FormItem/FormItem';\r\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\r\nimport CustomSelectOption from '@vkontakte/vkui/dist/components/CustomSelectOption/CustomSelectOption';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\n\r\nconst roles = [\r\n    {\r\n        'type': 'Учитель',\r\n        'value': 'teacher'\r\n    },\r\n    {\r\n        'type': 'Обучающийся',\r\n        'value': 'student'\r\n    },\r\n    {\r\n        'type': 'Родитель',\r\n        'value': 'parent'\r\n    }\r\n]\r\n\r\nconst RolesSelect = ({ id, go, fetchedUser }) => {\r\n\tconst [role, setRole] = useState('role');\r\n\tconst [roleId, setRoleId] = useState(null)\r\n\r\n\tconst onChangeRole = (e) => {\r\n\t\tsetRole(e.currentTarget.value)\r\n\t\tsetRoleId(`${e.currentTarget.value}_profile`)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader>\r\n\t\t\t\tВыбор роли\r\n\t\t\t</PanelHeader>\r\n\r\n\t\t\t<Group>\r\n\t\t\t\t<FormLayout>\r\n\t\t\t\t\t<FormItem top=\"Выберите роль\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Роль не выбрана\" \r\n\t\t\t\t\t\t\tonChange={onChangeRole}\r\n\t\t\t\t\t\t\toptions={roles.map(role => ({ label: role.type, value: role.value }))}\r\n\t\t\t\t\t\t\trenderOption={({ option, ...restProps }) => (\r\n\t\t\t\t\t\t\t\t<CustomSelectOption {...restProps} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t\t{role === 'teacher' &&\r\n\t\t\t\t<Div>\r\n\t\t\t\t\t<Button stretched size=\"l\" onClick={go} data-to={roleId}>\r\n\t\t\t\t\t\tПродолжить\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Div>}\r\n\t\t\t</Group>\r\n\t\t</Panel>\r\n\t)\r\n};\r\n\r\nRolesSelect.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default RolesSelect;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n    SimpleCell\r\n} from '@vkontakte/vkui'\r\n\r\nconst Clubs = ({ go, clubs }) => {\r\n\r\n    return clubs.map(\r\n        (club) =>\r\n            <SimpleCell key={club.name} onClick={go} data-to=\"club\" data-clubid={club.name}>\r\n                {club.name ? club.name : ''}\r\n            </SimpleCell>\r\n    )\r\n}\r\n\r\nClubs.propTypes = {\r\n    clubs: PropTypes.array.isRequired\r\n}\r\n\r\nexport default Clubs","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n    Text,\r\n    Title,\r\n    Avatar,\r\n    Div,\r\n    Cell,\r\n    Group,\r\n    Button,\r\n    Header,\r\n    PanelHeader,\r\n    Panel,\r\n    Gradient,\r\n    CellButton,\r\n    CardGrid\r\n  } from \"@vkontakte/vkui\"\r\n\r\n  import {\r\n    Icon28AddOutline\r\n  } from \"@vkontakte/icons\"\r\n\r\n  import Clubs from './components/Clubs'\r\n\r\n\r\nconst TeacherProfile = ({ id, go, fetchedUser, store }) => {\r\n    //const clubs = useSelector(state => state.clubs)\r\n    const clubs = store.getState().teacherState.clubs\r\n\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader>Профиль учителя</PanelHeader>\r\n\r\n            <Group>\r\n                <Gradient style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    textAlign: 'center',\r\n                    padding: 32,\r\n                }}>\r\n                    <Avatar size={96} src={fetchedUser && fetchedUser.photo_200 ? fetchedUser.photo_200 : ''} />\r\n                    <Title style={{ marginBottom: 8, marginTop: 20 }} level=\"2\" weight=\"medium\">{\r\n                        `${fetchedUser && fetchedUser.first_name ? fetchedUser.first_name : ''} \r\n                        ${fetchedUser && fetchedUser.last_name ? fetchedUser.last_name : ''}`}\r\n                    </Title>\r\n                    <Text style={{ marginBottom: 24, color: 'var(--text_secondary)' }}>Инфо</Text>\r\n                    <Button size=\"m\" mode=\"secondary\">Редактировать</Button>\r\n                </Gradient>\r\n\r\n                <CellButton before={<Icon28AddOutline />} onClick={go} data-to={'teacher_addClub'}>Добавить секцию</CellButton>\r\n                <CellButton before={<Icon28AddOutline />} onClick={go} data-to={'teacher_addStudyGroup'}>Добавить учебную группу</CellButton>\r\n                <CellButton before={<Icon28AddOutline />} onClick={go} data-to={'teacher_addStudent'}>Добавить ученика</CellButton>\r\n            </Group>\r\n\r\n            <Group\r\n                header={<Header>Мои секции</Header>}\r\n            >\r\n                {clubs.length > 0 &&\r\n                    <Clubs go={go} clubs={clubs} />\r\n                }\r\n                {clubs.length === 0 &&\r\n                    <Div>\r\n                        <Text>Секции отсутствуют</Text>\r\n                    </Div>\r\n                }\r\n            </Group>\r\n        </Panel>\r\n    )\r\n}\r\n\r\n/*\r\n<Group mode=\"plain\">\r\n                <Header>Учебные заведения и классы</Header>\r\n                <SimpleCell before={<Icon28SchoolOutline />} description=\"Екатеринбург\">Школа №180</SimpleCell>\r\n                <CellButton before={<Icon28AddOutline />}>Добавить учебное заведение</CellButton>\r\n            </Group>\r\n*/\r\n\r\nTeacherProfile.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default TeacherProfile;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { addClub as addClub_action } from '../../../redux/actions/teacher-actions'\r\n\r\nimport {\r\n    PanelHeader,\r\n    Panel,\r\n    PanelHeaderBack,\r\n    Group,\r\n    FormLayout,\r\n    FormItem,\r\n    Input,\r\n    Button\r\n  } from \"@vkontakte/vkui\"\r\n\r\nconst AddClub = ({ id, go, fetchedUser, store }) => {\r\n    const[name, setName] = useState('')\r\n\r\n    const onchangeName = (e) => {\r\n        setName(e.currentTarget.value)\r\n    }\r\n\r\n    const addClub = () => {\r\n        const club = {\r\n            'name': name\r\n        }\r\n        store.dispatch(addClub_action(club))\r\n        go({'currentTarget': {'dataset': {'to': 'teacher_profile'}}})\r\n    }\r\n\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"teacher_profile\"/>}\r\n            >\r\n\t\t\t\tДобавить секцию\r\n\t\t\t</PanelHeader>\r\n\r\n            <Group>\r\n                <FormLayout>\r\n                    <FormItem top=\"Название\">\r\n                        <Input onChange={onchangeName} />\r\n                    </FormItem>\r\n                </FormLayout>\r\n\r\n                <FormItem>\r\n                    <Button size=\"l\" stretched onClick={addClub}>Добавить секцию</Button>\r\n                </FormItem>\r\n            </Group>\r\n\t\t</Panel>\r\n\t)\r\n};\r\n\r\nAddClub.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default AddClub;\r\n","export function addClub (club) {\r\n    return {\r\n        type: 'ADD_CLUB',\r\n        club,\r\n    };\r\n}\r\n\r\nexport function addGroup (group, club_name) {\r\n    return {\r\n        type: 'ADD_GROUP',\r\n        group,\r\n        club_name\r\n    };\r\n}","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { addGroup as addGroup_action } from '../../../redux/actions/teacher-actions'\r\n\r\nimport {\r\n    PanelHeader,\r\n    Panel,\r\n    PanelHeaderBack,\r\n\tGroup,\r\n\tFormLayout,\r\n\tFormItem,\r\n\tInput,\r\n\tButton\r\n  } from \"@vkontakte/vkui\"\r\n\r\nconst AddStudyGroup = ({ id, go, fetchedUser, club_name, store }) => {\r\n\tconst[name, setName] = useState('')\r\n\r\n    const onchangeName = (e) => {\r\n        setName(e.currentTarget.value)\r\n    }\r\n\r\n    const addGroup= () => {\r\n        const group = {\r\n            'name': name\r\n        }\r\n        store.dispatch(addGroup_action(group, club_name))\r\n        go({'currentTarget': {'dataset': {'to': 'club'}}})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"club\"/>}\r\n            >\r\n\t\t\t\tДобавить группу\r\n\t\t\t</PanelHeader>\r\n\r\n\t\t\t<Group>\r\n                <FormLayout>\r\n                    <FormItem top=\"Название\">\r\n                        <Input onChange={onchangeName} />\r\n                    </FormItem>\r\n                </FormLayout>\r\n\r\n                <FormItem>\r\n                    <Button size=\"l\" stretched onClick={addGroup}>Добавить группу</Button>\r\n                </FormItem>\r\n            </Group>\r\n\t\t</Panel>\r\n\t)\r\n};\r\n\r\nAddStudyGroup.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default AddStudyGroup\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n    PanelHeader,\r\n    Panel,\r\n    PanelHeaderBack\r\n  } from \"@vkontakte/vkui\"\r\n\r\nconst AddStudent = ({ id, go, fetchedUser, store }) => {\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"teacher_profile\"/>}\r\n            >\r\n\t\t\t\tДобавить ученика\r\n\t\t\t</PanelHeader>\r\n\t\t</Panel>\r\n\t)\r\n};\r\n\r\nAddStudent.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default AddStudent;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n    SimpleCell\r\n} from '@vkontakte/vkui'\r\n\r\nconst Groups = ({ go, groups, club_name }) => {\r\n\r\n    return groups.map(\r\n        (group) =>\r\n            <SimpleCell key={group.name} onClick={go} data-to=\"group\" data-clubid={club_name} data-groupid={group.name}>\r\n                {group.name ? group.name : ''}\r\n            </SimpleCell>\r\n    )\r\n}\r\n\r\nGroups.propTypes = {\r\n    groups: PropTypes.array.isRequired\r\n}\r\n\r\nexport default Groups","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Groups from '../components/Groups'\r\n\r\nimport {\r\n    PanelHeader,\r\n    Panel,\r\n    PanelHeaderBack,\r\n    CellButton,\r\n    Group,\r\n    Text,\r\n    FormLayout,\r\n    FormItem,\r\n    Input,\r\n    Button,\r\n    Div,\r\n    Header\r\n  } from \"@vkontakte/vkui\"\r\n\r\n  import {\r\n    Icon28AddOutline\r\n  } from \"@vkontakte/icons\"\r\n\r\nconst Club = ({ id, go, fetchedUser, store, club_name }) => {\r\n    const getGroupsOfClub = () => {\r\n        const clubs = store.getState().teacherState.clubs\r\n        for (const club of clubs) {\r\n            if (club.name === club_name) {\r\n                return club.groups ? club.groups : null\r\n            }\r\n        }\r\n    }\r\n\r\n    const groups = getGroupsOfClub()\r\n\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"teacher_profile\"/>}\r\n            >\r\n\t\t\t\tСекция \"{club_name ? club_name : ''}\"\r\n\t\t\t</PanelHeader>\r\n\r\n            <Div>\r\n                <CellButton before={<Icon28AddOutline />} onClick={go} data-to={'teacher_addStudyGroup'} data-clubid={club_name}>Добавить учебную группу</CellButton>\r\n            </Div>\r\n\r\n            <Group\r\n                header={<Header>Мои группы</Header>}\r\n            >\r\n                {groups && groups.length > 0 &&\r\n                    <Groups groups={groups} />\r\n                }\r\n                {!groups || groups.length === 0 &&\r\n                    <Div>\r\n                        <Text>Группы отсутствуют</Text>\r\n                    </Div>\r\n                }\r\n            </Group>\r\n\t\t</Panel>\r\n\t)\r\n};\r\n\r\nClub.propTypes = {\r\n    club_name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Club;\r\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport { AdaptivityProvider, AppRoot } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport store from './redux/store/store'\n\nimport RolesSelect from './panels/RolesSelect'\n\n//Учитель\nimport TeacherProfile from './panels/teacher/Profile'\n//Формы\nimport AddClub from './panels/teacher/forms/AddClub'\nimport AddStudyGroup from './panels/teacher/forms/AddStudyGroup'\nimport AddStudent from './panels/teacher/forms/AddStudent'\n//Экраны\nimport Club from './panels/teacher/screens/Club'\n\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('role');\n\tconst [fetchedUser, setUser] = useState(null)\n\tconst [clubId, setClubId] = useState('')\n\tconst [groupId, setGroupId] = useState('')\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tif (e.currentTarget.dataset.clubid) {\n\t\t\tsetClubId(e.currentTarget.dataset.clubid)\n\t\t}\n\t\tif (e.currentTarget.dataset.groupId) {\n\t\t\tsetClubId(e.currentTarget.dataset.groupid)\n\t\t}\n\t\tsetActivePanel(e.currentTarget.dataset.to)\n\t};\n\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<View activePanel={activePanel}>\n\t\t\t\t\t<RolesSelect id='role' fetchedUser={fetchedUser} go={go} store={store}/>\n\n\t\t\t\t\t<TeacherProfile id=\"teacher_profile\" fetchedUser={fetchedUser} go={go} store={store}/>\n\t\t\t\t\t<AddClub id=\"teacher_addClub\" fetchedUser={fetchedUser} go={go} store={store}/>\n\t\t\t\t\t<AddStudyGroup id=\"teacher_addStudyGroup\" fetchedUser={fetchedUser} go={go} store={store} club_name={clubId}/>\n\t\t\t\t\t<AddStudent id=\"teacher_addStudent\" fetchedUser={fetchedUser} go={go} store={store}/>\n\t\t\t\t\t<Club id=\"club\" fetchedUser={fetchedUser} go={go} store={store} club_name={clubId} />\n\t\t\t\t\t\n\t\t\t\t</View>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}